<html>
<head>
<title>LoEV3go: LOGO Drawing with EV3 Robot</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>

var moving = 0;

function stop_motors() {
    $.ajax({
        type: "GET",
        cache: false,
        dataType: 'text',
        async: true,
        url: "/stop"
    });
    moving = 0;
}

$(document).ready(function() {
    $("#stop").click(function() {
        stop_motors();
        alert("Stop sent");
    });
    $("#preview").click(function() {
        var logocode = $('#logocode').val();
        $.post("preview",
        {
          code: logocode
        },
        function(rawImageData,status){
          // when we receive the image, put it into the page:
          //alert("Received: " + rawImageData + "\nStatus: " + status);
          $('#the_image').remove();
          $('#img_container').append('<img id="the_image" src="' + rawImageData + '"/>');
          // alert("Data: " + data + "\nStatus: " + status);
        });
    });
});
</script>
<!--
$(document).ready(function(){
    $( "#stop" ).click(function() {
      alert( "Handler for .click() called on STOP." );
    });
    $("button").click(function(){
        $.post("demo_test_post.asp",
        {
          name: "Donald Duck",
          city: "Duckburg"
        },
        function(data,status){
            alert("Data: " + data + "\nStatus: " + status);
        });
    });
});
-->
</head>
<body>

<button id="stop">Stop</button>

<button id="preview">Preview</button>

<div>
<textarea width=40 height=18 id="logocode" placeholder="Type LOGO code here...">
to gen :lo :hi :step
  make "x []
  while [ :lo < (:hi+1) ] [ make "x lput :lo :x make "lo :lo + :step ]
  output :x
end
for "l (gen 10 80 5) [repeat 5 [repeat 8 [fd :l rt 45] rt 72]]
to square
  repeat 4 [ fd 10 rt 90 ]
end
square
</textarea>
</div>


<div id="img_container">
<img id="the_image" src=""/>
</div>

<!-- 
<p id="demo"></p>
<script>
function myFunction() {
  document.getElementById("demo").innerHTML = "Hello World";
}
</script>
-->

Hardcoded:

<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMzUuMDAwIiB2aWV3Qm94PSItMTMuMDAwIC0xMy4wMDAgMzUuMDAwIDM1LjAwMCIgd2lkdGg9IjM1LjAwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bGluZSBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyLjAiIHgxPSIwLjAiIHgyPSIwLjAiIHkxPSIwLjAiIHkyPSIwLjAiLz48cG9seWdvbiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHBvaW50cz0iMC4wLDAuMCAwLjAsMC4wIDAuMCwwLjAiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cG9seWxpbmUgZmlsbD0ibm9uZSIgcG9pbnRzPSIwLjAsLTAuMCAxMC4wLC0wLjAgMTAuMCwxMC4wIDAuMCwxMC4wMDAwMDAwMDAwMDAwMDIgLTEuODM2OTcwMTk4NzIxMDI5NmUtMTUsMS43NzYzNTY4Mzk0MDAyNTA1ZS0xNSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4="/>

<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==" alt="Red dot" />

Stored on disk:
<img src="output.svg"/>


</body>
</html>
